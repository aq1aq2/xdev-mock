<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:camel="http://camel.apache.org/schema/spring"
       xmlns:cxf="http://camel.apache.org/schema/cxf"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd">

  <!-- Important, needed CXF imports to use CXF with Spring -->
  <import resource="classpath:META-INF/cxf/cxf.xml" />
  <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
  <import resource="classpath:META-INF/cxf/cxf-extension-http.xml" />
  <import resource="classpath:META-INF/cxf/osgi/cxf-extension-osgi.xml" />

  <!-- JAXB Processor -->
  <bean id="jaxbProcessor" class="dn.servicemix.test.routing.converter.JAXBProcessor"/>

  <!-- CamelContext routing -->
  <bean id="myRoutes" class="dn.servicemix.test.routing.camel.MyRouter"/>
  
  <camelContext xmlns="http://camel.apache.org/schema/spring">
    <routeBuilder ref="myRoutes"/>
  </camelContext>

<!--   <camel:camelContext id="camel" xmlns="http://activemq.apache.org/camel/schema/spring"> -->
<!--     <camel:route> -->
<!--       <camel:from uri="cxf:bean:serviceA_endpoint" /> -->
<!--       <camel:to uri="cxf:bean:serviceA_endpoint" /> -->
<!--     </camel:route> -->
<!--   </camel:camelContext> -->
    
  <!-- CXF Endpoint -->
  <cxf:cxfEndpoint id="serviceA_endpoint"
                   address="/webservices/srva"
                   endpointName="dn:ServiceAEndpoint"
                   serviceName="dn:ServiceA"
                   wsdlURL="dn/servicemix/test/schemas/srva.wsdl"
                   xmlns:dn="http://www.dn.com"/>       

</beans>
